<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Retoucher Pro Fluoro V3</title>
    <style>
        :root { --bg: #000; --glass: rgba(15, 15, 15, 0.98); --fluoro: #00ff66; --glow: 0 0 20px #00ff66; }
        body { margin: 0; overflow: hidden; background: var(--bg); font-family: sans-serif; touch-action: none; }
        #viewer { width: 100vw; height: 100vh; position: relative; background: #0a0a0a; }
        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        /* Dock & Panels */
        .dock { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; padding: 10px; background: var(--glass); border-radius: 28px; border: 1px solid rgba(0,255,102,0.3); z-index: 1000; }
        .box { width: 60px; height: 60px; border-radius: 18px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #fff; font-size: 9px; font-weight: 900; cursor: pointer; background: rgba(255,255,255,0.05); border: 1.5px solid transparent; transition: 0.2s; }
        .box.active { border-color: var(--fluoro); box-shadow: var(--glow); color: var(--fluoro); }

        .panel { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); background: var(--glass); border-radius: 24px; padding: 15px; display: none; width: 300px; border: 1px solid var(--fluoro); z-index: 999; }
        .panel.open { display: flex; flex-direction: column; gap: 12px; }
        
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .btn { padding: 12px; background: rgba(255,255,255,0.1); border-radius: 12px; color: white; text-align: center; font-size: 10px; font-weight: bold; border: 1px solid transparent; }
        .btn.active { border-color: var(--fluoro); color: var(--fluoro); box-shadow: var(--glow); }

        /* Thumbnails 1cm x 1cm approx */
        .thumb { width: 38px; height: 38px; border: 1px solid var(--fluoro); background: #000; object-fit: contain; }
        
        /* Select Menu 12 Styles */
        .style-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }
        .style-item { aspect-ratio: 1; background: #222; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 8px; border: 1px solid #444; }

        #brush-preview { width: 30px; height: 30px; border-radius: 50%; border: 2px solid #fff; }
        input[type=range] { width: 100%; accent-color: var(--fluoro); }
    </style>
</head>
<body>
    
